Всем привет, мы продолжаем цикл видео разбора задач по языку java, которые могут встретиться на экзамене Java SE 17
Developer. Сегодня на разборе простая задача

Какие из следующих фрагментов кода, связанные с var скомпилируются без проблем при использовании в методе? (Выберите все
правильные варианты ответа)

Варианты ответа вы видите на экране

Поставьте видео на паузу, напишите ваш вариант ответа в комментарии, а в конце ролика узнаете, удалось ли вам правильно
ответить на вопрос. Заодно и посмотрим, скольким по силам эта задача. Дам вам еще несколько секунд подумать

(звук таймера)

Надеюсь вы успели сделать свой выбор, потому что мы переходим к разбору этой задачи

Чтобы выяснить, какие из следующих фрагментов кода, связанные с var скомпилируются без проблем при использовании в методе,
обратимся к разделу 14.4 документа "The java language specification, Java SE 17 Edition"

Там имеется граматическое описание определения локальной переменной. в соответствии с этим описанием var относится к типу
локальной переменной

В разделе 14.4.1 спецификации написано следующее:
Если тип локальной переменной var, то тип локальной переменной не появляется в контексте присваивания и поэтому считается
автономным выражением.

В разделе 15.3 спецификации указано, что если выражение обозначает переменную или значение, то выражение имеет тип,
известный во время компиляции. А тип автономного выражения может быть полностью определен из содержимого выражения;

таким образом, в java var используется в объявлении локальной переменной без явного указания типа.
При использовании var компилятор Java определяет тип переменной во время компиляции, используя информацию о типе,
полученную от инициализатора переменной. Далее выведенный тип используется как статический тип этой переменной

Снова рассмотрим варианты ответа.

Вариант А не является правильным вариантом ответа, поскольку компилятор не может вычислить тип в случае присвоения null
значения. В разделе 14.4.1 спецификации явно указано, что локальная переменная, объявленная как var не может иметь тип null.

Вариант C не является правильным вариантом ответа, поскольку тип переменной var является неизменным, а в данном случае
сначала переменной присваивается число два, таким образом она определена как int, а затем, после точки с запятой, к этой
же переменной типа int присваивается null, а поскольку int не является объектом, а является примитовным типом, null к
переменной данного типа присвоить нельзя

Варианты F и G содержат объявление нескольких переменных через запятую. Эти варианты также не являются правильными
вариантами ответа, поскольку в разделе 14.4 спецификации указано, что если тип локальной переменной является var, то при
декларировании более чем одной переменной происходит ошибка компиляции.
Помимо этого в этом же разделе перечисленны другие причины, по которым объявление var переменной может выдавать ошибку
компиляции. Ошибка компиляции может возникнуть в следующих случаях:

- При декларировании более чем одной переменной
- При наличии пар скобок после имени переменной, как например при объявлении переменной, являющейся массивом
- При отсутствии инициализатора var переменной
- При инициализации var переменной инициализатором массива
- При использовании при инициализации переменной ссылки на эту же переменную

Примеры некорректных var переменных вы видите на экране


Остаются варианты B, D, E и H. Рассмотрим их по подробнее
Варианты B и D являются правильными вариантами ответа, поскольку в них происходит однозначное присвоение значение var
переменной и тип данных может быть вычислен на основе выражения. Для варианта B определяется тип переменной String, для
варианта D - Integer

Вариант E является правильным вариантом ответа, поскольку на этапе компиляции тип переменной day однозначно определяется
как int, поскольку если int разделить на int, то получится int. Данный код скомпилируется, но выкинет ошибку на этапе
выполнения данного участка кода из - за деления на ноль

Вариант H также является правильным вариантом ответа. В нём объявляется переменная, для неё неявно определяется тип String,
Затем, после точки с запятой, ей присваивается null. Присвоение null к переменной типа String - допустимо

Соответственно правильными ответами на задачу являются варианты B, D, E и H
Поздравляю если вы выбрали именно их

Ставьте палец вверх, если вам понравилось это видео
Пишите комментарии, если узнали что - то новое
И подпишитесь на канал, если вам интересны подобные задачи

Удачи вам на экзамене
